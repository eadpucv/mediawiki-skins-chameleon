/**
 * Styles for the NavbarHorizontal component
 *
 * This file is part of the MediaWiki skin Chameleon.
 *
 * @copyright 2013 - 2014, Stephan Gambke
 * @license   GNU General Public License, version 3 (or any later version)
 *
 * The Chameleon skin is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by the Free
 * Software Foundation, either version 3 of the License, or (at your option) any
 * later version.
 *
 * The Chameleon skin is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more
 * details.
 *
 * You should have received a copy of the GNU General Public License along
 * with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 * @author Stephan Gambke
 * @since 1.0
 * @ingroup Skins
 */

// if the navbar is in the first row (i.e. at the top of the page), but inside a
// container (i.e. not a fixed head), add some margin at the top
.navbar {
	.container > *:first-child & {
		margin-top: (@grid-gutter-width / 2);
	}

	.dropdown-menu {

		list-style: outside none none;

		> li {
			> a {

				display: block;
				padding: 3px 20px;
				clear: both;
				font-weight: normal;
				line-height: @line-height-base;
				color: @dropdown-link-color;
				white-space: nowrap; // prevent links from randomly breaking onto new lines
			}

			&.active, &.selected {
				> a {
					background-color: @navbar-default-link-active-bg;
					font-style: normal;
				}
			}
		}
	}
}

// override some navbar-brand styles to accommodate an image and include a
// separator to the rest of the navbar
.navbar-brand {

	padding: (( @navbar-height - @navbar-logo-height ) / 2 );
	line-height: normal;

	img {
		max-height: @navbar-logo-height;
	}

	@media (min-width: @grid-float-breakpoint) {
		// separator for logo
		border-right: 1px solid @navbar-default-border;
	}

	@media (max-width: @grid-float-breakpoint) {
		float: none
	}
}

.navbar-collapse {
	@media (min-width: @grid-float-breakpoint) {
		padding-left: 0;
		padding-right: 0;
	}
}

.navbar-right-aligned {
	@media (min-width: @grid-float-breakpoint) {

		.pull-right();

		> * {
			float: left;
		}

		.navbar-personaltools {
			margin-right: 0 - ( @grid-gutter-width / 2 );
			margin-left: 5px;
		}

		.navbar-form {
			padding: 0;
			margin-right: 5px;
			margin-left: 5px;
		}
	}
}

// styles for personal tools in the navbar component
.navbar-personaltools {
	.nav();
	.navbar-nav();

	> li, >li.open {
		> a {

			&.navbar-newtalk-available {
				.link(@navbar-newtalk-available);
			}

			&.navbar-newtalk-not-available {
				.link(@navbar-newtalk-not-available);
			}

			&.navbar-userloggedin {
				.link(@navbar-user-loggedin);
			}

			&.navbar-usernotloggedin {
				.link(@navbar-user-not-loggedin);
			}

		}
	}

	@media (min-width: @grid-float-breakpoint) {

		height: @navbar-height;

		// separator for user's personal tools
		border-left: 1px solid @navbar-default-border;

		> li, li.open {
			float: none;

			> a, > a:hover, > a:focus {

				vertical-align: middle;
				line-height: 0;
				top: 0;
				padding: (@navbar-height - 1)/4 10px;
				border-color: @navbar-default-border;
				border-bottom: 1px solid @navbar-default-border;

			}

			&:first-child:last-child > a {
				padding: (@navbar-height)/2 10px;
			}

			&:last-child > a, &.open:last-child > a {
				border: none;
			}

			> ul.dropdown-menu {
				top: @navbar-height;
			}

		}

	}

	@media (max-width: @grid-float-breakpoint) {
		> li {
			float: left;
		}
	}
}
